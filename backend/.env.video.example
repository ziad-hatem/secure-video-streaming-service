# Video Processing Performance Configuration
# Copy these settings to your .env file and adjust as needed

# FFmpeg Performance Settings
VIDEO_PRESET=ultrafast          # ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow
VIDEO_TUNE=zerolatency         # film, animation, grain, stillimage, psnr, ssim, fastdecode, zerolatency
VIDEO_THREADS=0                # 0 = auto-detect all cores, or specify number of threads
VIDEO_CRF=28                   # Lower = better quality, higher = faster encoding (18-28 recommended)
VIDEO_SEGMENT_TIME=6           # HLS segment duration in seconds (4-10 recommended)
VIDEO_PARALLEL_JOBS=3          # Number of parallel video encoding jobs (2-4 recommended)

# Video Quality Settings (adjust bitrates for speed vs quality)
VIDEO_BITRATE_360P=600k        # Lower bitrate = faster encoding
VIDEO_BITRATE_720P=1800k       # Default: 1800k (was 2500k)
VIDEO_BITRATE_1080P=3500k      # Default: 3500k (was 5000k)

# Timeout Settings (in seconds)
VIDEO_JOB_TIMEOUT=10800        # 3 hours - Maximum time for entire video processing job
VIDEO_PROCESS_TIMEOUT=7200     # 2 hours - Maximum time for individual FFmpeg process
VIDEO_QUEUE_RETRY_AFTER=10800  # 3 hours - Queue retry timeout

# Hardware Acceleration
VIDEO_HARDWARE_ACCELERATION=true  # Enable hardware acceleration detection

# Processing Options
VIDEO_PARALLEL_PROCESSING=true    # Enable parallel track processing
VIDEO_PROGRESS_TRACKING=true      # Enable progress tracking (future feature)
VIDEO_DETAILED_LOGGING=true       # Enable detailed processing logs
VIDEO_CLEANUP_TEMP_FILES=true     # Cleanup temporary files after processing

# FFmpeg Binary Paths (optional - auto-detected if not set)
# FFMPEG_PATH=/opt/homebrew/bin/ffmpeg
# FFPROBE_PATH=/opt/homebrew/bin/ffprobe

# Performance Tips:
# - For fastest processing: VIDEO_PRESET=ultrafast, VIDEO_CRF=30, lower bitrates
# - For best quality: VIDEO_PRESET=slow, VIDEO_CRF=20, higher bitrates
# - For balanced: VIDEO_PRESET=fast, VIDEO_CRF=25, medium bitrates
# - Increase VIDEO_PARALLEL_JOBS if you have many CPU cores (but watch memory usage)
# - Decrease VIDEO_SEGMENT_TIME for faster processing (more segments)
